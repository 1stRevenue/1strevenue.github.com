<ui-modal ng-model="modal.newModel"
          data-backdrop="static"
          class="fade first-revenue-model">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header model-editor-header">
        <button class="close"
                ng-click="modal.model=false">&times;</button>
        <h3>Create new model</h3>
      </div>
      <div ng-switch="modal.newModel">
        <div ng-switch-when="true"
             ng-controller="NewModelController"
             class="zzz-modal-body">
          <div class="modal-editor-form"
               ng-hide="userPanel">
            <fieldset class="model-editor-fields container"
                      ng-class="{'model-editor-user-chooser': userPanel}">
              <div class="row">
                <div class="control-group col-xs-6"
                     ng-class="{error: nameError}">
                  <label class="control-label"
                         for="model-name">
                    <span>Model name</span>
                    <span style="color: red">*</span>
                  </label>
                  <div class="controls">
                    <input type="text"
                           autofocus
                           id="model-name"
                           class="input-xlarge"
                           placeholder="Model name"
                           ng-model="modelName" />
                    <p class="help-block"
                       ng-show="name==''">Please specify the model name</p>
                  </div>
                </div>
              </div>
              <div class="row">
                <div class="col-xs-12">
                  <button class="btn btn-default"
                          ng-click="cancel()"> <!-- modal.model = false -->
                    Cancel
                  </button>
                  <button type="submit"
                          class="btn btn-primary"
                          ng-click="createModel(modelName)"
                          ng-disabled="!modelName || modelName.trim() == ''">
                    <span>Create model</span>
                  </button>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
      </div>
    </div>
  </div>
</ui-modal>
