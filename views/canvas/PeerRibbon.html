<div ng-controller="RibbonController"
     class="peer-ribbon"
     ng-init="ribbon = layout.peer"
     ng-class="{'wide-ribbon': layout.peer.wide}">
  <div ng-include src="'views/ribbon/Drag.html'"
       class="ribbon-item"></div>

  <!--div class="add-new-peer">
    <div class="add-new-peer-icon"></div>
  </div-->

  <!--div class="peer-count"
       ng-click="modal.users=true">
    {{canvas.peerCount()}}
  </div-->

  <!-- The following expr may work to avoid repetition of 'true' -->
  <!--div ng-repeat="(userId, userValue) in canvas.model.users track by userId"    -->
  <!--div ng-click="layout.setView('users'); layout.guide.wide = true; layout.peer.wide = false;"
       ng-class="{'ribbon-item-current': layout.isView('users')}"
       class="ribbon-item">
    <i class="icon-search icon-2x"></i>
    <span ng-show="layout.peer.wide">
      Share model
    </span>
  </div-->
  <div class="ribbon-item"
       ng-if="!isReadOnly()">
    <div ng-include src="'views/ribbon/Share.html'"></div>
  </div>
  <div ng-repeat="userId in getModelUserIds()"
       class="ribbon-item"
       ng-class="{'ribbon-item-current': me.isMyself(userId)}">
    <span class="online-mark" ng-show="me.isOnline(userId)"></span>
    <img ng-src="{{sync.peers[userId].image}}"
         class="user-icon"
         ng-show="sync.peers[userId].image"
         title="{{sync.peers[userId].name}}" />
    <img ng-src="images/bbf82395.light_avatar_small.png"
         class="user-icon"
         ng-hide="sync.peers[userId].image"
         title="{{sync.peers[userId].name}}" />
    <div class="ribbon-text">
      <span first-revenue-service-icon="sync.peers[userId].service"></span>
      {{ sync.peers[userId].name }}
    </div>
  </div>

  <div class="ribbon-bottom">
    <div ng-include src="'views/ribbon/QRCode.html'"></div>
    <div ng-include src="'views/ribbon/Signal.html'"></div>
  </div>
</div>

