<div ng-controller="RibbonController"
     class="peer-ribbon"
     ng-init="ribbon = layout.peer"
     ng-class="{'wide-ribbon': layout.peer.wide}">
  <div ng-include src="'views/ribbon/Drag.html'"></div>

  <div class="peer-count"
       ng-click="modal.users=true">
    {{canvas.peerCount()}}
  </div>

  <div class="add-new-peer">
    <div class="add-new-peer-icon"></div>
  </div>

  <!-- The following expr may work to avoid repetition of 'true' -->
  <!--div ng-repeat="(userId, userValue) in canvas.model.users track by userId"    -->
  <div ng-repeat="userId in getModelUserIds()"
       class="ribbon-item"
       ng-class="{'ribbon-item-current': user.isMyself(userId)}">
    <img ng-src="{{af.peers[userId].image}}"
         class="user-icon"
         ng-show="af.peers[userId].image"
         title="{{af.peers[userId].name}}" />
    <img ng-src="images/bbf82395.light_avatar_small.png"
         class="user-icon"
         ng-hide="af.peers[userId].image"
         title="{{af.peers[userId].name}}" />
  </div>
  <div ng-include src="'views/ribbon/Signal.html'"></div>
</div>
